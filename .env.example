# Application Configuration
NODE_ENV=development
PORT=3000

# CORS Configuration
CORS_ORIGIN=*

# OpenAI Configuration (for AI features - Phase 3+)
OPENAI_API_KEY=your_openai_api_key_here

# Redis Configuration (for refresh tokens, sessions, and caching)
# Note: Docker Compose environments (dev/prod) override this to true.
# Set to false only for local development without Docker.
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_KEY_PREFIX=talksy:

# MongoDB Configuration (primary database for user data)
# Note: Docker Compose environments provide MongoDB automatically.
# For local development without Docker, install MongoDB or use MongoDB Atlas.
MONGODB_ENABLED=true
MONGODB_URI=mongodb://localhost:27017/talksy

# MongoDB Credentials (for Docker production deployment)
# These are used by docker-compose.prod.yml
# Generate password: openssl rand -base64 32
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=

# JWT Authentication Configuration
# ┌──────────────────────────────────────────────────────────────────────────┐
# │ SECURITY WARNING: JWT_SECRET must be a strong, unique secret in prod!   │
# │                                                                          │
# │ For production, use a secure secret management solution:                 │
# │   - AWS Secrets Manager                                                  │
# │   - HashiCorp Vault                                                      │
# │   - Azure Key Vault                                                      │
# │   - Google Secret Manager                                                │
# │   - Doppler, 1Password Secrets Automation, etc.                          │
# │                                                                          │
# │ Generate a strong secret: openssl rand -base64 64                        │
# └──────────────────────────────────────────────────────────────────────────┘
JWT_SECRET=dev-secret-change-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
BCRYPT_ROUNDS=12

# Authentication Settings
AUTH_ENABLED=true
AUTH_BYPASS_IN_DEV=true

# Auth Cache Configuration (in-memory LRU cache for reduced latency)
# Caches validated tokens and user profiles to avoid repeated Redis/JWT lookups
AUTH_CACHE_ENABLED=true
AUTH_CACHE_USER_TTL_MS=300000      # User cache TTL (default: 5 minutes)
AUTH_CACHE_USER_MAX_SIZE=1000      # Max cached users
AUTH_CACHE_TOKEN_TTL_MS=300000     # Token validation cache TTL (default: 5 minutes)
AUTH_CACHE_TOKEN_MAX_SIZE=5000     # Max cached token validations
